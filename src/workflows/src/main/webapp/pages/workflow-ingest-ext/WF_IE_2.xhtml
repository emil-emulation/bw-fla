<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:func="http://example.com/functions"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:bwl="http://bwfla.bwl.de/facelets">

<ui:composition template="/template/formTemplate.xhtml">
	<ui:param name="beanName" value="#{WF_IE_2}" />

	<ui:define name="title">
			bwFLA Basic System Environments - View
	</ui:define>

	<ui:define name="menu">
		<ui:param name="beanName" value="#{WF_IE_2}" />
		<ui:include src="/template/menu.xhtml" />
	</ui:define>

	<ui:define name="context-menu">
		<ui:include src="/template/menu/emulator_menu.xhtml" />
	</ui:define>

	<ui:define name="metadata">
		<h:outputScript library="zeroclipboard" name="ZeroClipboard.min.js"/>
	</ui:define>

	<ui:define name="content">
		<div>
			<ui:include src="/template/emulator_content_default.xhtml">
				<ui:param name="beanName" value="#{WF_IE_2}" />
				<ui:param name="disablePositionHack" value="#{true}" />
			</ui:include>

			<br></br> <br></br>
			<div style="text-align: center; white-spaces: nowrap">
				<h:form>
					<p:commandButton id="shareBtn" value="Share" type="button"
						style="width: 20%" />
					<p:overlayPanel id="sharePnl" for="shareBtn" hideEffect="fade"
						dynamic="true">

						<div>
							<style>
.inputtext_button {
	border-radius: 0 4px 4px 0 !important;
	border-left: 0 !important;
	height: 25px;
}

.inputtext_button .ui-button-text.ui-c {
	padding: 0.22em 0 !important;
}
</style>

							<p:inputText styleClass="iframeclipboard"
								onclick="$(this).select();"
								style="height: 15px;margin: 0; border-radius: 3px 0 0 3px;"
								readonly="true" value="#{WF_IE_2.IFrameCode}" />
							<p:commandButton type="button"
								title="Click to copy to clipboard."
								styleClass="inputtext_button" icon="ui-icon-clipboard" />
						</div>

						<script>
                                                ZeroClipboard.setDefaults( { moviePath: '#{resource["zeroclipboard:ZeroClipboard.swf"]}' } );

                                                $(function() {
                                                        var button = $(".inputtext_button").first();

                                                        if (ZeroClipboard.detectFlashSupport()) {
                                                                button.attr('data-clipboard-text', '#{WF_IE_2.IFrameCode}');

                                                                clip = new ZeroClipboard($(".inputtext_button").first());

                                                            clip.on( 'mouseover', function(client) {
                                                                button.addClass('ui-state-hover');
                                                            });

                                                        clip.on( 'mouseout', function(client) {
                                                                button.removeClass('ui-state-hover');
                                                        });

                                                        clip.on( 'mousedown', function(client) {
                                                                $('.iframeclipboard').select();
                                                                PF('growlVar').show([{summary:'Info', detail: 'Text was Copied to the Clipboard!', severity: 'info'}]);
                                                        });
                                                        } else {
                                                                button.click(function() {
                                                                        window.prompt('Press CTRL+C, then ENTER', '#{WF_IE_2.IFrameCode}'); return false;
                                                                });
                                                        }
                                                });
                                        </script>
					</p:overlayPanel>
					<p:spacer width="10"  />
					<p:commandButton value="Cite" update="hdlstr"   
             			actionListener="#{WF_IE_2.createHdl}" styleClass="ui-priority-primary"/>
             		<p:commandButton value="Cite Modification" update="hdlstr"   
             			actionListener="#{WF_IE_2.createHdlCodeModifed}" styleClass="ui-priority-primary"/>
					<p:spacer width="10"  />
					<h:outputText id="hdlstr" value="#{WF_IE_2.handleStr}" />
				</h:form>
			</div>

			<br></br> <br></br>
		</div>
	</ui:define>

</ui:composition>

</html>
